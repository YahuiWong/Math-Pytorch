我们从最根部开始，用最严格、最现代的方式重新学习小学数学：全部用 PyTorch 张量 + 公式 + 可运行代码来表达。这样你会惊奇地发现，小学数学其实就是整个深度学习和现代数学的“最小可运行示例”。

### 小学阶段第一块：自然数、整数、四则运算、运算律

```python
import torch
torch.manual_seed(42)  # 为了可复现，像小学生写学号一样
```

#### 1. 自然数与整数（张量视角）

```python
# 自然数（小学通常从 0 或 1 开始，现代数学统一含 0）
natural = torch.arange(0, 10, dtype=torch.int64)
print("自然数（0~9）:", natural)

# 整数（小学四年级出现负数）
integers = torch.arange(-5, 6, dtype=torch.int64)
print("整数（-5~5）:", integers)
```

#### 2. 四则运算（全部自动微分版，小学生提前 15 年接触梯度）

```python
a = torch.tensor(7.0, requires_grad=True)   # 任何数都可以带梯度
b = torch.tensor(5.0, requires_grad=True)

# 加法
add = a + b
print("7 + 5 =", add.item())   # 12

# 减法
sub = a - b
print("7 - 5 =", sub.item())   # 2

# 乘法（小学叫“乘法口诀”，我们叫“张量点积”）
mul = a * b
print("7 × 5 =", mul.item())   # 35

# 除法（小学叫“除法”，我们叫“真除”，得到浮点数）
div = a / b
print("7 ÷ 5 =", div.item())   # 1.4
```

#### 3. 运算律（小学最难背的部分，用代码一秒验证）

```python
x = torch.tensor(8.0, requires_grad=True)
y = torch.tensor(3.0, requires_grad=True)
z = torch.tensor(6.0, requires_grad=True)

# 交换律
print("加法交换律:", (x + y) == (y + x))   # True
print("乘法交换律:", (x * y) == (y * x))   # True

# 结合律
print("加法结合律:", ((x + y) + z) == (x + (y + z)))   # True
print("乘法结合律:", ((x * y) * z) == (x * (y * z)))   # True

# 分配律（小学最容易错的题）
left  = x * (y + z)
right = x*y + x*z
print("分配律:", torch.allclose(left, right))   # True
print(f"{x.item()} × ({y.item()} + {z.item()}) = {left.item()}")
print(f"{x.item()} × {y.item()} + {x.item()} × {z.item()} = {right.item()}")
```

#### 4. 小学最难的“脱式计算”→ 其实就是计算图

```python
# 例题：48 ÷ 8 × 3
# 小学生常见两种错误：(48÷8)×3=18 或 48÷(8×3)=2

# PyTorch 严格按数学优先级计算（乘除同级，从左到右）
expr = torch.tensor(48.0) / 8.0 * 3.0
print("正确答案（左到右）:", expr.item())   # 18.0

# 如果要先算 8×3，必须加括号
wrong = torch.tensor(48.0) / (8.0 * 3.0)
print("加括号后:", wrong.item())   # 2.0
```

#### 5. 小学奥数经典：鸡兔同笼 → 现代视角就是线性方程组求解

```python
# 35 个头，94 只脚，鸡和兔各几只？
# 设鸡 x 只，兔 y 只 →  x + y = 35
#                  2x + 4y = 94

A = torch.tensor([[1.0, 1.0],
                  [2.0, 4.0]])
b = torch.tensor([35.0, 94.0])

solution = torch.linalg.solve(A, b)
chicken, rabbit = solution
print(f"鸡: {chicken.item():.0f} 只，兔: {rabbit.item():.0f} 只")
# 输出：鸡: 23 只，兔: 12 只
```

总结：小学这块其实已经包含了现代数学/深度学习的全部基本元素：

| 小学知识点         | 对应现代数学/深度学习概念          |
|--------------------|------------------------------------|
| 自然数/整数        | 离散张量、int64 类型               |
| 四则运算           | 张量加减乘除（element-wise）       |
| 运算律             | 张量运算的代数性质（自动满足）     |
| 脱式计算优先级     | 计算图执行顺序                     |
| 鸡兔同笼           | 线性方程组、torch.linalg.solve    |

接下来你要我继续往下走吗？下一站可以选：

1. 分数与小数（用 torch.float32 + 分数类实现真分数）
2. 因数、倍数、质数、分解质因数（用 PyTorch 实现埃氏筛 + 唯一分解定理）
3. 简单几何（用 torch 表示向量、矩阵、旋转变换）

你说往哪走，我立刻带你飞。