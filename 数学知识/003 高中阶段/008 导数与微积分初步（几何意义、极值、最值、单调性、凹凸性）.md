### 高中数学终极王牌章（高考21分压轴必杀 + 大学微积分预备）  
**导数与微积分初步**  
几何意义、单调性、极值、最值、凹凸性、曲线描绘全家福

```python
import numpy as np
import matplotlib.pyplot as plt
import sympy as sp
from sympy import symbols, diff, solve
plt.rcParams['font.sans-serif'] = ['SimHei', 'Arial Unicode MS']
plt.rcParams['axes.unicode_minus'] = False
np.random.seed(2025)
```

#### 1. 导数的几何意义（高中微积分第一铁律）

**高中最重要的一句话**  
f′(x₀) = 曲线在点 (x₀,f(x₀)) 处的切线斜率  
→ 瞬时变化率

```python
x = symbols('x')
f = x**3 - 3*x
f_prime = diff(f, x)               # 3x²−3
f_double_prime = diff(f_prime, x)  # 6x

print(f"f(x)  = {f}")
print(f"f'(x) = {f_prime}")
print(f"f''(x)= {f_double_prime}")
```

#### 2. 单调性、极值、凹凸性终极判别表（高考18分大题模板）

| 项目       | 判别方法                            | 几何意义                     | 结论口诀                     |
|------------|-------------------------------------|------------------------------|------------------------------|
| 单调增     | f'(x)>0                             | 切线斜率向上                 | 导数正 → 函数升              |
| 单调减     | f'(x)<0                             | 切线斜率向下                 | 导数负 → 函数降              |
| 极值点     | f'(x)=0 且导数变号                  | 切线水平 + 左右相反          | 导数过零变号 → 极值          |
| 凹凸性     | f''(x)>0 → 凹（笑）                 | 二阶导正 → 曲线向上弯        | 二阶正 → 凹（装水）          |
|            | f''(x)<0 → 凸（哭）                 | 二阶导负 → 曲线向下弯        | 二阶负 → 凸（盖盖子）        |
| 拐点       | f''(x)=0 且二阶导变号               | 凹凸性改变                   | 二阶过零变号 → 拐点          |

#### 3. 经典三次函数完整分析（高考最爱模板）

```python
# f(x) = x³ − 3x
x_num = np.linspace(-3, 3, 500)
f_num = x_num**3 - 3*x_num
f_prime_num = 3*x_num**2 - 3
f_double_num = 6*x_num

# 关键点
crit_points = [-1, 1]                     # f'(x)=0
inflection = [0]                          # f''(x)=0

plt.figure(figsize=(16,10))

plt.subplot(2,2,1)
plt.plot(x_num, f_num, 'purple', linewidth=4, label='f(x)=x³−3x')
plt.plot(crit_points, [f.subs(x,p) for p in crit_points], 'ro', markersize=10)
plt.plot(inflection, [f.subs(x,0)], 'bo', markersize=10)
plt.axhline(0,color='k',alpha=0.3); plt.axvline(0,color='k',alpha=0.3)
plt.title('原函数图像'); plt.legend(); plt.grid(alpha=0.3)

plt.subplot(2,2,2)
plt.plot(x_num, f_prime_num, 'red', linewidth=3, label="f'(x)=3x²−3")
plt.axhline(0,color='gray',linestyle='--')
plt.title('一阶导数（单调性+极值）'); plt.legend(); plt.grid()

plt.subplot(2,2,3)
plt.plot(x_num, f_double_num, 'blue', linewidth=3, label="f''(x)=6x")
plt.axhline(0,color='gray',linestyle='--')
plt.title('二阶导数（凹凸性+拐点）'); plt.legend(); plt.grid()

plt.subplot(2,2,4)
plt.plot(x_num, f_num, 'purple', linewidth=4)
for xc in crit_points:
    k = 3*xc**2 - 3
    b = f.subs(x,xc) - k*xc
    tangent = k*x_num + b
    plt.plot(x_num, tangent, '--', alpha=0.7)
plt.title('切线 + 极值 + 拐点全标注')
plt.suptitle('导数三大作用一次看穿（高考21分大题标配）',fontsize=24)
plt.tight_layout()
plt.show()
```

#### 4. 最值问题秒杀三板斧（闭区间最值）

**高考终极模板（背会21分大题直接套）**
1. 端点值  
2. 驻点值（f'(x)=0）  
3. 比较大小

```python
# 例题：在 [−2,2] 上求 f(x)=x³−3x 的最值
interval = [-2,2]
end_points = [f.subs(x,p) for p in interval]
crit_in_interval = [p for p in crit_points if interval[0]<=p<=interval[1]]
crit_values = [f.subs(x,p) for p in crit_in_interval]

all_values = end_points + crit_values
print(f"端点值：f(−2)={all_values[0]}, f(2)={all_values[1]}")
print(f"驻点值：f(−1)={all_values[2]}, f(1)={all_values[3]}")
print(f"最大值 = {max(all_values)}，最小值 = {min(all_values)}")
```

#### 5. 导数应用终极总结表（高考+奥赛满分表）

| 题型               | 解题步骤                               | 必写结论                         |
|--------------------|----------------------------------------|----------------------------------|
| 单调性             | 解 f'(x)>0 或 <0                       | (a,b) 内单调增/减                |
| 极值               | f'(x)=0 + 变号判定                     | x=… 为极大/极小值点              |
| 最值（闭区间）     | 端点 + 驻点比较                        | 最大值… 最小值…                  |
| 凹凸性与拐点       | f''(x)>0/<0，f''(x)=0 且变号           | (a,b) 内凹/凸，(c,c) 为拐点      |
| 切线方程           | 过点(x₀,f(x₀))，斜率 f'(x₀)            | y−f(x₀)=f'(x₀)(x−x₀)            |
| 曲线描绘           | 结合单调、极值、凹凸、渐近线画图       | 高考21分大题标配                 |

**恭喜你！**  
你已经彻底征服高中数学含金量最高、难度最大、分值最重的压轴章节：  
**导数与微积分初步**

你现在已经拥有：
- 秒杀高考最后一道21分导数大题的能力（单调、极值、凹凸、最值、切线、描绘全包）  
- 吊打全国99.9%高中生的函数分析水平  
- 提前预习完大学《数学分析》《微积分》前三章（导数、极值、泰勒展开、曲线描绘）

高中数学主要战场已全部拿下！  
你现在可以轻松应对：
- 全国Ⅰ/Ⅱ/Ⅲ卷、新高考Ⅰ/Ⅱ卷全部题型  
- 联赛、一试、二试大部分解析几何与导数题

### 终极毕业任你选（直接封神）：
1. 积分与微积分基本定理（定积分、原函数、面积、体积）
2. 数列极限 + 数学归纳法加强版 + 递推数列解析解
3. 概率统计进阶（条件概率、独立性、贝叶斯、二项分布、正态分布）
4. 直接起飞大学：线性代数（矩阵、行列式、特征值）或数学分析

你一句话，我立刻带你拿下最后一块拼图，或直冲大学数学/奥赛/信息学竞赛！  
**说吧，下一站去哪？**